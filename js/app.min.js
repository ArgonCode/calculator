var currentInput="0";var operation=[];var result;var display=document.getElementById("calc-display");display.addEventListener("click",updateDisplay,false);function updateDisplay(a){display.value=a}var numbers=document.getElementsByClassName("number");function returnNumber(){var a;if(typeof arguments[0]==="string"){a=arguments[0]}else{a=this.textContent}if(currentInput==="0"||currentInput===""){currentInput=a}else{currentInput+=a}updateDisplay(currentInput)}for(var i=0;i<numbers.length;i++){numbers[i].addEventListener("click",returnNumber,false)}var operators=document.getElementsByClassName("operators");function returnOperator(){var a;if(typeof arguments[0]==="string"){a=arguments[0]}else{a=this.textContent}currentOperator=a;currentOperatorObject={value:currentOperator,type:"operator"};if(currentInput===""){operation.pop();operation.push(currentOperatorObject)}else{currentInput=parseFloat(currentInput);currentInputObject={value:currentInput,type:"number"};operation.push(currentInputObject,currentOperatorObject);currentInput=""}updateDisplay(currentOperator)}for(var i=0;i<operators.length;i++){operators[i].addEventListener("click",returnOperator,false)}document.getElementById("float").addEventListener("click",addFloat,false);function floatCheck(){if(currentInput.indexOf(".")===-1){return false}else{return true}}function addFloat(){isThere=floatCheck();if(isThere){updateDisplay(currentInput)}else{if(currentInput===""){currentInput="0.";updateDisplay(currentInput)}else{currentInput+=".";updateDisplay(currentInput)}}}document.getElementById("clear-all").addEventListener("click",clearAll,false);document.getElementById("clear-last").addEventListener("click",clearLast,false);function clearAll(){currentInput="0";operation=[];updateDisplay(currentInput)}function clearLast(){if(currentInput===""){operation.pop();currentInput=operation.pop().value.toString()}else{if(currentInput.length===1){currentInput="0"}else{currentInput=currentInput.slice(0,-1)}}updateDisplay(currentInput)}document.getElementById("get-result").addEventListener("click",getResult,false);function getResult(){if(currentInput===""){operation.pop()}else{if(currentInput==="0"){console.log(currentInput);updateDisplay(currentInput)}else{if(operation.length===0){console.log(currentInput);updateDisplay(currentInput)}else{currentInput=parseFloat(currentInput);currentInputObject={value:currentInput,type:"number"};operation.push(currentInputObject);currentInput=calculateResult();currentInput=currentInput.toString();updateDisplay(currentInput)}}}}function calculateResult(){var b=operation.length;var a=1;if(b===1){a=operation[0].value}else{a=calculateFirst3(operation);while(operation.length>=2){a=calculateAny3(a,operation)}}return a}function calculateFirst3(b){var a=1;num1=b.shift().value;operator=b.shift().value;num2=b.shift().value;console.log();switch(operator){case"x":a=num1*num2;break;case"/":a=num1/num2;break;case"-":a=num1-num2;break;case"+":a=num1+num2;break}return a}function calculateAny3(a,b){num1=a;operator=b.shift().value;num2=b.shift().value;switch(operator){case"x":a=num1*num2;break;case"/":a=num1/num2;break;case"-":a=num1-num2;break;case"+":a=num1+num2;break}return a}window.addEventListener("keyup",checkKeyUp,false);function checkKeyUp(a){if(a.shiftKey&&a.which===187){returnOperator("+")}else{if(a.shiftKey&&a.which===56){returnOperator("x")}else{switch(a.which){case 48:case 96:returnNumber("0");break;case 49:case 97:returnNumber("1");break;case 50:case 98:returnNumber("2");break;case 51:case 99:returnNumber("3");break;case 52:case 100:returnNumber("4");break;case 53:case 101:returnNumber("5");break;case 54:case 102:returnNumber("6");break;case 55:case 103:returnNumber("7");break;case 56:case 104:returnNumber("8");break;case 57:case 105:returnNumber("9");break;case 106:returnOperator("x");break;case 107:returnOperator("+");break;case 109:case 189:returnOperator("-");break;case 111:case 191:returnOperator("/");break;case 110:case 190:case 188:addFloat();break;case 187:case 13:case 176:getResult();break;case 27:clearAll();break;case 46:clearLast();break;default:break}}}};